(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{131:function(e,t){},133:function(e,t){},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(9),r=a.n(c),i=a(22),s=a(181),l=a.p+"static/media/logo.e03e0f67.png",o=a(3);var d=function(){return Object(o.jsxs)("header",{children:[Object(o.jsxs)("span",{className:"left",children:["\xa0",Object(o.jsx)("img",{src:l})]}),Object(o.jsx)("span",{className:"right",children:Object(o.jsx)("a",{href:"#",children:" Teams "})})]})},j=a(184),u=a(186),b=a(187),m=a(19),x=a(82),O=a(53),p=a.n(O),f=Object(n.createContext)(),h=Object(x.io)("https://warm-wildwood-81069.herokuapp.com"),g=function(e){var t=e.children,a=Object(n.useState)(!1),c=Object(m.a)(a,2),r=c[0],i=c[1],s=Object(n.useState)(!1),l=Object(m.a)(s,2),d=l[0],j=l[1],u=Object(n.useState)(),b=Object(m.a)(u,2),x=b[0],O=b[1],g=Object(n.useState)(""),v=Object(m.a)(g,2),C=v[0],w=v[1],y=Object(n.useState)({}),N=Object(m.a)(y,2),k=N[0],I=N[1],D=Object(n.useState)(""),S=Object(m.a)(D,2),A=S[0],V=S[1],B=Object(n.useRef)(),R=Object(n.useRef)(),T=Object(n.useRef)();Object(n.useEffect)((function(){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){O(e),B.current.srcObject=e})),h.on("me",(function(e){return V(e)})),h.on("callUser",(function(e){var t=e.from,a=e.name,n=e.signal;I({isReceivingCall:!0,from:t,name:a,signal:n})}))}),[]);return Object(o.jsx)(f.Provider,{value:{call:k,callAccepted:r,myVideo:B,userVideo:R,stream:x,name:C,setName:w,callEnded:d,me:A,callUser:function(e){var t=new p.a({initiator:!0,trickle:!1,stream:x});t.on("signal",(function(t){h.emit("callUser",{userToCall:e,signalData:t,from:A,name:C})})),t.on("stream",(function(e){R.current.srcObject=e})),h.on("callAccepted",(function(e){i(!0),t.signal(e)})),T.current=t},leaveCall:function(){j(!0),T.current.destroy(),window.location.reload()},answerCall:function(){i(!0);var e=new p.a({initiator:!1,trickle:!1,stream:x});e.on("signal",(function(e){h.emit("answerCall",{signal:e,to:k.from})})),e.on("stream",(function(e){R.current.srcObject=e})),e.signal(k.signal),T.current=e}},children:t})},v=Object(s.a)((function(e){return{video:Object(i.a)({width:"550px"},e.breakpoints.down("xs"),{width:"300px"}),gridContainer:Object(i.a)({justifyContent:"center"},e.breakpoints.down("xs"),{flexDirection:"column"}),paper:{alignItems:"center",padding:"10px",border:"2px solid black",margin:"10px"}}})),C=function(){var e=Object(n.useContext)(f),t=e.name,a=e.callAccepted,c=e.myVideo,r=e.userVideo,i=e.callEnded,s=e.stream,l=e.call,d=v(),m=!0;var x=!0;return Object(o.jsxs)(j.a,{container:!0,className:d.gridContainer,children:[s&&Object(o.jsxs)(u.a,{className:d.paper,children:[Object(o.jsxs)(j.a,{item:!0,xs:12,md:6,children:[Object(o.jsx)(b.a,{variant:"h5",gutterBottom:!0,children:t||"Name"}),Object(o.jsx)("video",{playsInline:!0,muted:!0,ref:c,autoPlay:!0,className:d.video})]}),Object(o.jsxs)("div",{className:"button-class",children:[" ",Object(o.jsx)("button",{type:"button",onClick:function(){m=!m,c.current.srcObject.getAudioTracks()[0].enabled=m},children:" Mute "})," ",Object(o.jsx)("button",{type:"button",onClick:function(){x=!x,c.current.srcObject.getVideoTracks()[0].enabled=x},children:" Disable Video "})]})]}),a&&!i&&Object(o.jsx)(u.a,{className:d.paper,children:Object(o.jsxs)(j.a,{item:!0,xs:12,md:6,children:[Object(o.jsx)(b.a,{variant:"h5",gutterBottom:!0,children:l.name||"Name"}),Object(o.jsx)("video",{playsInline:!0,ref:r,autoPlay:!0,className:d.video})]})})]})},w=a(188),y=a(192),N=a(193),k=a(88),I=a(189),D=a(190),S=a(191),A=Object(s.a)((function(e){return{root:{display:"flex",flexDirection:"column"},gridContainer:Object(i.a)({width:"100%"},e.breakpoints.down("xs"),{flexDirection:"column"}),container:Object(i.a)({width:"600px",margin:"35px 0",padding:0},e.breakpoints.down("xs"),{width:"80%"}),margin:{marginTop:20},padding:{padding:20},paper:{padding:"10px 20px",border:"2px solid black"}}})),V=function(e){var t=e.children,a=Object(n.useContext)(f),c=a.me,r=a.callAccepted,i=a.name,s=a.setName,l=a.callEnded,d=a.leaveCall,x=a.callUser,O=Object(n.useState)(""),p=Object(m.a)(O,2),h=p[0],g=p[1],v=A();return Object(o.jsx)(w.a,{className:v.container,children:Object(o.jsxs)(u.a,{elevation:10,className:v.paper,children:[Object(o.jsx)("form",{className:v.root,noValidate:!0,autoComplete:"off",children:Object(o.jsxs)(j.a,{container:!0,className:v.gridContainer,children:[Object(o.jsxs)(j.a,{item:!0,xs:12,md:6,className:v.padding,children:[Object(o.jsx)(b.a,{gutterBottom:!0,variant:"h6",children:"Account Info"}),Object(o.jsx)(y.a,{label:"Name",value:i,onChange:function(e){return s(e.target.value)},fullWidth:!0}),Object(o.jsx)(k.CopyToClipboard,{text:c,className:v.margin,children:Object(o.jsx)(N.a,{variant:"contained",color:"primary",fullWidth:!0,startIcon:Object(o.jsx)(I.a,{fontSize:"large"}),children:"Copy Your ID"})})]}),Object(o.jsxs)(j.a,{item:!0,xs:12,md:6,className:v.padding,children:[Object(o.jsx)(b.a,{gutterBottom:!0,variant:"h6",children:"Make a call"}),Object(o.jsx)(y.a,{label:"ID to call",value:h,onChange:function(e){return g(e.target.value)},fullWidth:!0}),r&&!l?Object(o.jsx)(N.a,{variant:"contained",color:"secondary",startIcon:Object(o.jsx)(D.a,{fontSize:"large"}),fullWidth:!0,onClick:d,className:v.margin,children:"Hang Up"}):Object(o.jsx)(N.a,{variant:"contained",color:"primary",startIcon:Object(o.jsx)(S.a,{fontSize:"large"}),fullWidth:!0,onClick:function(){return x(h)},className:v.margin,children:"Call"})]})]})}),t]})})},B=function(){var e=Object(n.useContext)(f),t=e.answerCall,a=e.call,c=e.callAccepted;return Object(o.jsx)(o.Fragment,{children:a.isReceivingCall&&!c&&Object(o.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(o.jsxs)("h1",{children:[a.name," is calling:"]}),Object(o.jsx)(N.a,{variant:"contained",color:"primary",onClick:t,children:"Answer"})]})})},R=Object(s.a)((function(e){return{appBar:Object(i.a)({borderRadius:15,margin:"30px 100px",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"600px",border:"2px solid black"},e.breakpoints.down("xs"),{width:"90%"}),image:{marginLeft:"15px"},wrapper:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"}}})),T=function(){var e=R();return Object(o.jsxs)("div",{className:e.wrapper,children:[Object(o.jsx)(d,{}),Object(o.jsx)(C,{}),Object(o.jsx)(V,{children:Object(o.jsx)(B,{})})]})};a(150);r.a.render(Object(o.jsx)(g,{children:Object(o.jsx)(T,{})}),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.966fc53b.chunk.js.map